<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_171) on Tue Jul 24 22:50:51 PDT 2018 -->
<title>PartitionUpdate (apache-cassandra API)</title>
<meta name="date" content="2018-07-24">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PartitionUpdate (apache-cassandra API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":9,"i10":9,"i11":9,"i12":9,"i13":9,"i14":9,"i15":10,"i16":10,"i17":10,"i18":9,"i19":10,"i20":9,"i21":9,"i22":9,"i23":9,"i24":10,"i25":9,"i26":10,"i27":10,"i28":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PartitionUpdate.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/cassandra/db/partitions/PartitionStatisticsCollector.html" title="interface in org.apache.cassandra.db.partitions"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.CounterMark.html" title="class in org.apache.cassandra.db.partitions"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/cassandra/db/partitions/PartitionUpdate.html" target="_top">Frames</a></li>
<li><a href="PartitionUpdate.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.cassandra.db.partitions</div>
<h2 title="Class PartitionUpdate" class="title">Class PartitionUpdate</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html" title="class in org.apache.cassandra.db.partitions">org.apache.cassandra.db.partitions.AbstractBTreePartition</a></li>
<li>
<ul class="inheritance">
<li>org.apache.cassandra.db.partitions.PartitionUpdate</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Iterable&lt;<a href="../../../../../org/apache/cassandra/db/rows/Row.html" title="interface in org.apache.cassandra.db.rows">Row</a>&gt;, <a href="../../../../../org/apache/cassandra/db/partitions/Partition.html" title="interface in org.apache.cassandra.db.partitions">Partition</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">PartitionUpdate</span>
extends <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html" title="class in org.apache.cassandra.db.partitions">AbstractBTreePartition</a></pre>
<div class="block">Stores updates made on a partition.
 <p>
 A PartitionUpdate object requires that all writes/additions are performed before we
 try to read the updates (attempts to write to the PartitionUpdate after a read method
 has been called will result in an exception being thrown). In other words, a Partition
 is mutable while it's written but becomes immutable as soon as it is read.
 <p>
 A typical usage is to create a new update (<code>new PartitionUpdate(metadata, key, columns, capacity)</code>)
 and then add rows and range tombstones through the <code>add()</code> methods (the partition
 level deletion time can also be set with <code>addPartitionDeletion()</code>). However, there
 is also a few static helper constructor methods for special cases (<code>emptyUpdate()</code>,
 <code>fullPartitionDelete</code> and <code>singleRowUpdate</code>).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.CounterMark.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate.CounterMark</a></span></code>
<div class="block">A counter mark is basically a pointer to a counter update inside this partition update.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.PartitionUpdateSerializer.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate.PartitionUpdateSerializer</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.SimpleBuilder.html" title="interface in org.apache.cassandra.db.partitions">PartitionUpdate.SimpleBuilder</a></span></code>
<div class="block">Interface for building partition updates geared towards human.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.org.apache.cassandra.db.partitions.AbstractBTreePartition">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;org.apache.cassandra.db.partitions.<a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html" title="class in org.apache.cassandra.db.partitions">AbstractBTreePartition</a></h3>
<code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.Holder.html" title="class in org.apache.cassandra.db.partitions">AbstractBTreePartition.Holder</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.SlicesIterator.html" title="class in org.apache.cassandra.db.partitions">AbstractBTreePartition.SlicesIterator</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#logger">logger</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.PartitionUpdateSerializer.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate.PartitionUpdateSerializer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#serializer">serializer</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.cassandra.db.partitions.AbstractBTreePartition">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.cassandra.db.partitions.<a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html" title="class in org.apache.cassandra.db.partitions">AbstractBTreePartition</a></h3>
<code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#EMPTY">EMPTY</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#metadata">metadata</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#partitionKey">partitionKey</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#PartitionUpdate-org.apache.cassandra.config.CFMetaData-java.nio.ByteBuffer-org.apache.cassandra.db.PartitionColumns-int-">PartitionUpdate</a></span>(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
               java.nio.ByteBuffer&nbsp;key,
               <a href="../../../../../org/apache/cassandra/db/PartitionColumns.html" title="class in org.apache.cassandra.db">PartitionColumns</a>&nbsp;columns,
               int&nbsp;initialRowCapacity)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#PartitionUpdate-org.apache.cassandra.config.CFMetaData-org.apache.cassandra.db.DecoratedKey-org.apache.cassandra.db.PartitionColumns-int-">PartitionUpdate</a></span>(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
               <a href="../../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;key,
               <a href="../../../../../org/apache/cassandra/db/PartitionColumns.html" title="class in org.apache.cassandra.db">PartitionColumns</a>&nbsp;columns,
               int&nbsp;initialRowCapacity)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#add-org.apache.cassandra.db.RangeTombstone-">add</a></span>(<a href="../../../../../org/apache/cassandra/db/RangeTombstone.html" title="class in org.apache.cassandra.db">RangeTombstone</a>&nbsp;range)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#add-org.apache.cassandra.db.rows.Row-">add</a></span>(<a href="../../../../../org/apache/cassandra/db/rows/Row.html" title="interface in org.apache.cassandra.db.rows">Row</a>&nbsp;row)</code>
<div class="block">Adds a row to this update.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#addPartitionDeletion-org.apache.cassandra.db.DeletionTime-">addPartitionDeletion</a></span>(<a href="../../../../../org/apache/cassandra/db/DeletionTime.html" title="class in org.apache.cassandra.db">DeletionTime</a>&nbsp;deletionTime)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#allowNewUpdates--">allowNewUpdates</a></span>()</code>
<div class="block">If a partition update has been read (and is thus unmodifiable), a call to this method
 makes the update modifiable again.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#canHaveShadowedData--">canHaveShadowedData</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.CounterMark.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate.CounterMark</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#collectCounterMarks--">collectCounterMarks</a></span>()</code>
<div class="block">For an update on a counter table, returns a list containing a <code>CounterMark</code> for
 every counter contained in the update.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/cassandra/db/PartitionColumns.html" title="class in org.apache.cassandra.db">PartitionColumns</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#columns--">columns</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#dataSize--">dataSize</a></span>()</code>
<div class="block">The size of the data contained in this update.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/cassandra/db/DeletionInfo.html" title="interface in org.apache.cassandra.db">DeletionInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#deletionInfo--">deletionInfo</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#emptyUpdate-org.apache.cassandra.config.CFMetaData-org.apache.cassandra.db.DecoratedKey-">emptyUpdate</a></span>(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
           <a href="../../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;key)</code>
<div class="block">Creates a empty immutable partition update.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#fromBytes-java.nio.ByteBuffer-int-org.apache.cassandra.db.DecoratedKey-">fromBytes</a></span>(java.nio.ByteBuffer&nbsp;bytes,
         int&nbsp;version,
         <a href="../../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;key)</code>
<div class="block">Deserialize a partition update from a provided byte buffer.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#fromIterator-org.apache.cassandra.db.rows.RowIterator-org.apache.cassandra.db.filter.ColumnFilter-">fromIterator</a></span>(<a href="../../../../../org/apache/cassandra/db/rows/RowIterator.html" title="interface in org.apache.cassandra.db.rows">RowIterator</a>&nbsp;iterator,
            <a href="../../../../../org/apache/cassandra/db/filter/ColumnFilter.html" title="class in org.apache.cassandra.db.filter">ColumnFilter</a>&nbsp;filter)</code>
<div class="block">Turns the given iterator into an update.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#fromIterator-org.apache.cassandra.db.rows.UnfilteredRowIterator-org.apache.cassandra.db.filter.ColumnFilter-">fromIterator</a></span>(<a href="../../../../../org/apache/cassandra/db/rows/UnfilteredRowIterator.html" title="interface in org.apache.cassandra.db.rows">UnfilteredRowIterator</a>&nbsp;iterator,
            <a href="../../../../../org/apache/cassandra/db/filter/ColumnFilter.html" title="class in org.apache.cassandra.db.filter">ColumnFilter</a>&nbsp;filter)</code>
<div class="block">Turns the given iterator into an update.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#fullPartitionDelete-org.apache.cassandra.config.CFMetaData-java.nio.ByteBuffer-long-int-">fullPartitionDelete</a></span>(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
                   java.nio.ByteBuffer&nbsp;key,
                   long&nbsp;timestamp,
                   int&nbsp;nowInSec)</code>
<div class="block">Creates a partition update that entirely deletes a given partition.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#fullPartitionDelete-org.apache.cassandra.config.CFMetaData-org.apache.cassandra.db.DecoratedKey-long-int-">fullPartitionDelete</a></span>(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
                   <a href="../../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;key,
                   long&nbsp;timestamp,
                   int&nbsp;nowInSec)</code>
<div class="block">Creates an immutable partition update that entirely deletes a given partition.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.Holder.html" title="class in org.apache.cassandra.db.partitions">AbstractBTreePartition.Holder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#holder--">holder</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>java.util.Iterator&lt;<a href="../../../../../org/apache/cassandra/db/rows/Row.html" title="interface in org.apache.cassandra.db.rows">Row</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#iterator--">iterator</a></span>()</code>
<div class="block">Returns an iterator that iterates over the rows of this update in clustering order.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#maxTimestamp--">maxTimestamp</a></span>()</code>
<div class="block">The maximum timestamp used in this update.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#merge-java.util.List-">merge</a></span>(java.util.List&lt;<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&gt;&nbsp;updates)</code>
<div class="block">Merges the provided updates, yielding a new update that incorporates all those updates.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#operationCount--">operationCount</a></span>()</code>
<div class="block">The number of "operations" contained in the update.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.SimpleBuilder.html" title="interface in org.apache.cassandra.db.partitions">PartitionUpdate.SimpleBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#simpleBuilder-org.apache.cassandra.config.CFMetaData-java.lang.Object...-">simpleBuilder</a></span>(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
             java.lang.Object...&nbsp;partitionKeyValues)</code>
<div class="block">Creates a new simple partition update builder.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#singleRowUpdate-org.apache.cassandra.config.CFMetaData-java.nio.ByteBuffer-org.apache.cassandra.db.rows.Row-">singleRowUpdate</a></span>(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
               java.nio.ByteBuffer&nbsp;key,
               <a href="../../../../../org/apache/cassandra/db/rows/Row.html" title="interface in org.apache.cassandra.db.rows">Row</a>&nbsp;row)</code>
<div class="block">Creates an immutable partition update that contains a single row update.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#singleRowUpdate-org.apache.cassandra.config.CFMetaData-org.apache.cassandra.db.DecoratedKey-org.apache.cassandra.db.rows.Row-">singleRowUpdate</a></span>(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
               <a href="../../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;key,
               <a href="../../../../../org/apache/cassandra/db/rows/Row.html" title="interface in org.apache.cassandra.db.rows">Row</a>&nbsp;row)</code>
<div class="block">Creates an immutable partition update that contains a single row update.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#singleRowUpdate-org.apache.cassandra.config.CFMetaData-org.apache.cassandra.db.DecoratedKey-org.apache.cassandra.db.rows.Row-org.apache.cassandra.db.rows.Row-">singleRowUpdate</a></span>(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
               <a href="../../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;key,
               <a href="../../../../../org/apache/cassandra/db/rows/Row.html" title="interface in org.apache.cassandra.db.rows">Row</a>&nbsp;row,
               <a href="../../../../../org/apache/cassandra/db/rows/Row.html" title="interface in org.apache.cassandra.db.rows">Row</a>&nbsp;staticRow)</code>
<div class="block">Creates an immutable partition update that contains a single row update.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/cassandra/db/rows/EncodingStats.html" title="class in org.apache.cassandra.db.rows">EncodingStats</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#stats--">stats</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>static java.nio.ByteBuffer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#toBytes-org.apache.cassandra.db.partitions.PartitionUpdate-int-">toBytes</a></span>(<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&nbsp;update,
       int&nbsp;version)</code>
<div class="block">Serialize a partition update as a byte buffer.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#updateAllTimestamp-long-">updateAllTimestamp</a></span>(long&nbsp;newTimestamp)</code>
<div class="block">Modify this update to set every timestamp for live data to <code>newTimestamp</code> and
 every deletion timestamp to <code>newTimestamp - 1</code>.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html#validate--">validate</a></span>()</code>
<div class="block">Validates the data contained in this update.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.cassandra.db.partitions.AbstractBTreePartition">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.cassandra.db.partitions.<a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html" title="class in org.apache.cassandra.db.partitions">AbstractBTreePartition</a></h3>
<code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#build-org.apache.cassandra.db.rows.RowIterator-org.apache.cassandra.db.DeletionInfo-boolean-int-">build</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#build-org.apache.cassandra.db.rows.UnfilteredRowIterator-int-">build</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#build-org.apache.cassandra.db.rows.UnfilteredRowIterator-int-boolean-">build</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#getRow-org.apache.cassandra.db.Clustering-">getRow</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#hasRows--">hasRows</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#isEmpty--">isEmpty</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#lastRow--">lastRow</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#metadata--">metadata</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#partitionKey--">partitionKey</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#partitionLevelDeletion--">partitionLevelDeletion</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#rowCount--">rowCount</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#searchIterator-org.apache.cassandra.db.filter.ColumnFilter-boolean-">searchIterator</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#staticRow--">staticRow</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#unfilteredIterator--">unfilteredIterator</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#unfilteredIterator-org.apache.cassandra.db.partitions.AbstractBTreePartition.Holder-org.apache.cassandra.db.filter.ColumnFilter-org.apache.cassandra.db.Slices-boolean-">unfilteredIterator</a>, <a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#unfilteredIterator-org.apache.cassandra.db.filter.ColumnFilter-org.apache.cassandra.db.Slices-boolean-">unfilteredIterator</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Iterable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.lang.Iterable</h3>
<code>forEach, spliterator</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>protected static final&nbsp;org.slf4j.Logger logger</pre>
</li>
</ul>
<a name="serializer">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>serializer</h4>
<pre>public static final&nbsp;<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.PartitionUpdateSerializer.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate.PartitionUpdateSerializer</a> serializer</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PartitionUpdate-org.apache.cassandra.config.CFMetaData-org.apache.cassandra.db.DecoratedKey-org.apache.cassandra.db.PartitionColumns-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PartitionUpdate</h4>
<pre>public&nbsp;PartitionUpdate(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
                       <a href="../../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;key,
                       <a href="../../../../../org/apache/cassandra/db/PartitionColumns.html" title="class in org.apache.cassandra.db">PartitionColumns</a>&nbsp;columns,
                       int&nbsp;initialRowCapacity)</pre>
</li>
</ul>
<a name="PartitionUpdate-org.apache.cassandra.config.CFMetaData-java.nio.ByteBuffer-org.apache.cassandra.db.PartitionColumns-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PartitionUpdate</h4>
<pre>public&nbsp;PartitionUpdate(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
                       java.nio.ByteBuffer&nbsp;key,
                       <a href="../../../../../org/apache/cassandra/db/PartitionColumns.html" title="class in org.apache.cassandra.db">PartitionColumns</a>&nbsp;columns,
                       int&nbsp;initialRowCapacity)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="emptyUpdate-org.apache.cassandra.config.CFMetaData-org.apache.cassandra.db.DecoratedKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>emptyUpdate</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&nbsp;emptyUpdate(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
                                          <a href="../../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;key)</pre>
<div class="block">Creates a empty immutable partition update.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metadata</code> - the metadata for the created update.</dd>
<dd><code>key</code> - the partition key for the created update.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly created empty (and immutable) update.</dd>
</dl>
</li>
</ul>
<a name="fullPartitionDelete-org.apache.cassandra.config.CFMetaData-org.apache.cassandra.db.DecoratedKey-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fullPartitionDelete</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&nbsp;fullPartitionDelete(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
                                                  <a href="../../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;key,
                                                  long&nbsp;timestamp,
                                                  int&nbsp;nowInSec)</pre>
<div class="block">Creates an immutable partition update that entirely deletes a given partition.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metadata</code> - the metadata for the created update.</dd>
<dd><code>key</code> - the partition key for the partition that the created update should delete.</dd>
<dd><code>timestamp</code> - the timestamp for the deletion.</dd>
<dd><code>nowInSec</code> - the current time in seconds to use as local deletion time for the partition deletion.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly created partition deletion update.</dd>
</dl>
</li>
</ul>
<a name="singleRowUpdate-org.apache.cassandra.config.CFMetaData-org.apache.cassandra.db.DecoratedKey-org.apache.cassandra.db.rows.Row-org.apache.cassandra.db.rows.Row-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>singleRowUpdate</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&nbsp;singleRowUpdate(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
                                              <a href="../../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;key,
                                              <a href="../../../../../org/apache/cassandra/db/rows/Row.html" title="interface in org.apache.cassandra.db.rows">Row</a>&nbsp;row,
                                              <a href="../../../../../org/apache/cassandra/db/rows/Row.html" title="interface in org.apache.cassandra.db.rows">Row</a>&nbsp;staticRow)</pre>
<div class="block">Creates an immutable partition update that contains a single row update.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metadata</code> - the metadata for the created update.</dd>
<dd><code>key</code> - the partition key for the partition to update.</dd>
<dd><code>row</code> - the row for the update (may be null).</dd>
<dd><code>row</code> - the static row for the update (may be null).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly created partition update containing only <code>row</code>.</dd>
</dl>
</li>
</ul>
<a name="singleRowUpdate-org.apache.cassandra.config.CFMetaData-org.apache.cassandra.db.DecoratedKey-org.apache.cassandra.db.rows.Row-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>singleRowUpdate</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&nbsp;singleRowUpdate(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
                                              <a href="../../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;key,
                                              <a href="../../../../../org/apache/cassandra/db/rows/Row.html" title="interface in org.apache.cassandra.db.rows">Row</a>&nbsp;row)</pre>
<div class="block">Creates an immutable partition update that contains a single row update.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metadata</code> - the metadata for the created update.</dd>
<dd><code>key</code> - the partition key for the partition to update.</dd>
<dd><code>row</code> - the row for the update (may be static).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly created partition update containing only <code>row</code>.</dd>
</dl>
</li>
</ul>
<a name="singleRowUpdate-org.apache.cassandra.config.CFMetaData-java.nio.ByteBuffer-org.apache.cassandra.db.rows.Row-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>singleRowUpdate</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&nbsp;singleRowUpdate(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
                                              java.nio.ByteBuffer&nbsp;key,
                                              <a href="../../../../../org/apache/cassandra/db/rows/Row.html" title="interface in org.apache.cassandra.db.rows">Row</a>&nbsp;row)</pre>
<div class="block">Creates an immutable partition update that contains a single row update.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metadata</code> - the metadata for the created update.</dd>
<dd><code>key</code> - the partition key for the partition to update.</dd>
<dd><code>row</code> - the row for the update.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly created partition update containing only <code>row</code>.</dd>
</dl>
</li>
</ul>
<a name="fromIterator-org.apache.cassandra.db.rows.UnfilteredRowIterator-org.apache.cassandra.db.filter.ColumnFilter-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fromIterator</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&nbsp;fromIterator(<a href="../../../../../org/apache/cassandra/db/rows/UnfilteredRowIterator.html" title="interface in org.apache.cassandra.db.rows">UnfilteredRowIterator</a>&nbsp;iterator,
                                           <a href="../../../../../org/apache/cassandra/db/filter/ColumnFilter.html" title="class in org.apache.cassandra.db.filter">ColumnFilter</a>&nbsp;filter)</pre>
<div class="block">Turns the given iterator into an update.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>iterator</code> - the iterator to turn into updates.</dd>
<dd><code>filter</code> - the column filter used when querying <code>iterator</code>. This is used to make
 sure we don't include data for which the value has been skipped while reading (as we would
 then be writing something incorrect).

 Warning: this method does not close the provided iterator, it is up to
 the caller to close it.</dd>
</dl>
</li>
</ul>
<a name="fromIterator-org.apache.cassandra.db.rows.RowIterator-org.apache.cassandra.db.filter.ColumnFilter-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fromIterator</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&nbsp;fromIterator(<a href="../../../../../org/apache/cassandra/db/rows/RowIterator.html" title="interface in org.apache.cassandra.db.rows">RowIterator</a>&nbsp;iterator,
                                           <a href="../../../../../org/apache/cassandra/db/filter/ColumnFilter.html" title="class in org.apache.cassandra.db.filter">ColumnFilter</a>&nbsp;filter)</pre>
<div class="block">Turns the given iterator into an update.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>iterator</code> - the iterator to turn into updates.</dd>
<dd><code>filter</code> - the column filter used when querying <code>iterator</code>. This is used to make
 sure we don't include data for which the value has been skipped while reading (as we would
 then be writing something incorrect).

 Warning: this method does not close the provided iterator, it is up to
 the caller to close it.</dd>
</dl>
</li>
</ul>
<a name="canHaveShadowedData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canHaveShadowedData</h4>
<pre>protected&nbsp;boolean&nbsp;canHaveShadowedData()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#canHaveShadowedData--">canHaveShadowedData</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html" title="class in org.apache.cassandra.db.partitions">AbstractBTreePartition</a></code></dd>
</dl>
</li>
</ul>
<a name="fromBytes-java.nio.ByteBuffer-int-org.apache.cassandra.db.DecoratedKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fromBytes</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&nbsp;fromBytes(java.nio.ByteBuffer&nbsp;bytes,
                                        int&nbsp;version,
                                        <a href="../../../../../org/apache/cassandra/db/DecoratedKey.html" title="class in org.apache.cassandra.db">DecoratedKey</a>&nbsp;key)</pre>
<div class="block">Deserialize a partition update from a provided byte buffer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bytes</code> - the byte buffer that contains the serialized update.</dd>
<dd><code>version</code> - the version with which the update is serialized.</dd>
<dd><code>key</code> - the partition key for the update. This is only used if <code>version &amp;lt 3.0</code>
 and can be <code>null</code> otherwise.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the deserialized update or <code>null</code> if <code>bytes == null</code>.</dd>
</dl>
</li>
</ul>
<a name="toBytes-org.apache.cassandra.db.partitions.PartitionUpdate-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toBytes</h4>
<pre>public static&nbsp;java.nio.ByteBuffer&nbsp;toBytes(<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&nbsp;update,
                                          int&nbsp;version)</pre>
<div class="block">Serialize a partition update as a byte buffer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>update</code> - the partition update to serialize.</dd>
<dd><code>version</code> - the version to serialize the update into.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a newly allocated byte buffer containing the serialized update.</dd>
</dl>
</li>
</ul>
<a name="fullPartitionDelete-org.apache.cassandra.config.CFMetaData-java.nio.ByteBuffer-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fullPartitionDelete</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&nbsp;fullPartitionDelete(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
                                                  java.nio.ByteBuffer&nbsp;key,
                                                  long&nbsp;timestamp,
                                                  int&nbsp;nowInSec)</pre>
<div class="block">Creates a partition update that entirely deletes a given partition.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metadata</code> - the metadata for the created update.</dd>
<dd><code>key</code> - the partition key for the partition that the created update should delete.</dd>
<dd><code>timestamp</code> - the timestamp for the deletion.</dd>
<dd><code>nowInSec</code> - the current time in seconds to use as local deletion time for the partition deletion.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly created partition deletion update.</dd>
</dl>
</li>
</ul>
<a name="merge-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>merge</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&nbsp;merge(java.util.List&lt;<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate</a>&gt;&nbsp;updates)</pre>
<div class="block">Merges the provided updates, yielding a new update that incorporates all those updates.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>updates</code> - the collection of updates to merge. This shouldn't be empty.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a partition update that include (merge) all the updates from <code>updates</code>.</dd>
</dl>
</li>
</ul>
<a name="deletionInfo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deletionInfo</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/cassandra/db/DeletionInfo.html" title="interface in org.apache.cassandra.db">DeletionInfo</a>&nbsp;deletionInfo()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#deletionInfo--">deletionInfo</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html" title="class in org.apache.cassandra.db.partitions">AbstractBTreePartition</a></code></dd>
</dl>
</li>
</ul>
<a name="updateAllTimestamp-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateAllTimestamp</h4>
<pre>public&nbsp;void&nbsp;updateAllTimestamp(long&nbsp;newTimestamp)</pre>
<div class="block">Modify this update to set every timestamp for live data to <code>newTimestamp</code> and
 every deletion timestamp to <code>newTimestamp - 1</code>.

 There is no reason to use that expect on the Paxos code path, where we need ensure that
 anything inserted use the ballot timestamp (to respect the order of update decided by
 the Paxos algorithm). We use <code>newTimestamp - 1</code> for deletions because tombstones
 always win on timestamp equality and we don't want to delete our own insertions
 (typically, when we overwrite a collection, we first set a complex deletion to delete the
 previous collection before adding new elements. If we were to set that complex deletion
 to the same timestamp that the new elements, it would delete those elements). And since
 tombstones always wins on timestamp equality, using -1 guarantees our deletion will still
 delete anything from a previous update.</div>
</li>
</ul>
<a name="operationCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>operationCount</h4>
<pre>public&nbsp;int&nbsp;operationCount()</pre>
<div class="block">The number of "operations" contained in the update.
 <p>
 This is used by <code>Memtable</code> to approximate how much work this update does. In practice, this
 count how many rows are updated and how many ranges are deleted by the partition update.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of "operations" performed by the update.</dd>
</dl>
</li>
</ul>
<a name="dataSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataSize</h4>
<pre>public&nbsp;int&nbsp;dataSize()</pre>
<div class="block">The size of the data contained in this update.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the size of the data contained in this update.</dd>
</dl>
</li>
</ul>
<a name="columns--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>columns</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/cassandra/db/PartitionColumns.html" title="class in org.apache.cassandra.db">PartitionColumns</a>&nbsp;columns()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/cassandra/db/partitions/Partition.html#columns--">columns</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/cassandra/db/partitions/Partition.html" title="interface in org.apache.cassandra.db.partitions">Partition</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#columns--">columns</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html" title="class in org.apache.cassandra.db.partitions">AbstractBTreePartition</a></code></dd>
</dl>
</li>
</ul>
<a name="holder--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>holder</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.Holder.html" title="class in org.apache.cassandra.db.partitions">AbstractBTreePartition.Holder</a>&nbsp;holder()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#holder--">holder</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html" title="class in org.apache.cassandra.db.partitions">AbstractBTreePartition</a></code></dd>
</dl>
</li>
</ul>
<a name="stats--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stats</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/cassandra/db/rows/EncodingStats.html" title="class in org.apache.cassandra.db.rows">EncodingStats</a>&nbsp;stats()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/cassandra/db/partitions/Partition.html#stats--">stats</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/cassandra/db/partitions/Partition.html" title="interface in org.apache.cassandra.db.partitions">Partition</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#stats--">stats</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html" title="class in org.apache.cassandra.db.partitions">AbstractBTreePartition</a></code></dd>
</dl>
</li>
</ul>
<a name="allowNewUpdates--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allowNewUpdates</h4>
<pre>public&nbsp;void&nbsp;allowNewUpdates()</pre>
<div class="block">If a partition update has been read (and is thus unmodifiable), a call to this method
 makes the update modifiable again.
 <p>
 Please note that calling this method won't result in optimal behavior in the sense that
 even if very little is added to the update after this call, the whole update will be sorted
 again on read. This should thus be used sparingly (and if it turns that we end up using
 this often, we should consider optimizing the behavior).</div>
</li>
</ul>
<a name="iterator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>iterator</h4>
<pre>public&nbsp;java.util.Iterator&lt;<a href="../../../../../org/apache/cassandra/db/rows/Row.html" title="interface in org.apache.cassandra.db.rows">Row</a>&gt;&nbsp;iterator()</pre>
<div class="block">Returns an iterator that iterates over the rows of this update in clustering order.
 <p>
 Note that this might trigger a sorting of the update, and as such the update will not
 be modifiable anymore after this call.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>iterator</code>&nbsp;in interface&nbsp;<code>java.lang.Iterable&lt;<a href="../../../../../org/apache/cassandra/db/rows/Row.html" title="interface in org.apache.cassandra.db.rows">Row</a>&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#iterator--">iterator</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html" title="class in org.apache.cassandra.db.partitions">AbstractBTreePartition</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an iterator over the rows of this update.</dd>
</dl>
</li>
</ul>
<a name="validate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validate</h4>
<pre>public&nbsp;void&nbsp;validate()</pre>
<div class="block">Validates the data contained in this update.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/cassandra/serializers/MarshalException.html" title="class in org.apache.cassandra.serializers">MarshalException</a></code> - if some of the data contained in this update is corrupted.</dd>
</dl>
</li>
</ul>
<a name="maxTimestamp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxTimestamp</h4>
<pre>public&nbsp;long&nbsp;maxTimestamp()</pre>
<div class="block">The maximum timestamp used in this update.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the maximum timestamp used in this update.</dd>
</dl>
</li>
</ul>
<a name="collectCounterMarks--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collectCounterMarks</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.CounterMark.html" title="class in org.apache.cassandra.db.partitions">PartitionUpdate.CounterMark</a>&gt;&nbsp;collectCounterMarks()</pre>
<div class="block">For an update on a counter table, returns a list containing a <code>CounterMark</code> for
 every counter contained in the update.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list with counter marks for every counter in this update.</dd>
</dl>
</li>
</ul>
<a name="addPartitionDeletion-org.apache.cassandra.db.DeletionTime-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPartitionDeletion</h4>
<pre>public&nbsp;void&nbsp;addPartitionDeletion(<a href="../../../../../org/apache/cassandra/db/DeletionTime.html" title="class in org.apache.cassandra.db">DeletionTime</a>&nbsp;deletionTime)</pre>
</li>
</ul>
<a name="add-org.apache.cassandra.db.RangeTombstone-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(<a href="../../../../../org/apache/cassandra/db/RangeTombstone.html" title="class in org.apache.cassandra.db">RangeTombstone</a>&nbsp;range)</pre>
</li>
</ul>
<a name="add-org.apache.cassandra.db.rows.Row-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(<a href="../../../../../org/apache/cassandra/db/rows/Row.html" title="interface in org.apache.cassandra.db.rows">Row</a>&nbsp;row)</pre>
<div class="block">Adds a row to this update.

 There is no particular assumption made on the order of row added to a partition update. It is further
 allowed to add the same row (more precisely, multiple row objects for the same clustering).

 Note however that the columns contained in the added row must be a subset of the columns used when
 creating this update.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>row</code> - the row to add.</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html#toString--">toString</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/cassandra/db/partitions/AbstractBTreePartition.html" title="class in org.apache.cassandra.db.partitions">AbstractBTreePartition</a></code></dd>
</dl>
</li>
</ul>
<a name="simpleBuilder-org.apache.cassandra.config.CFMetaData-java.lang.Object...-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>simpleBuilder</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.SimpleBuilder.html" title="interface in org.apache.cassandra.db.partitions">PartitionUpdate.SimpleBuilder</a>&nbsp;simpleBuilder(<a href="../../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;metadata,
                                                          java.lang.Object...&nbsp;partitionKeyValues)</pre>
<div class="block">Creates a new simple partition update builder.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metadata</code> - the metadata for the table this is a partition of.</dd>
<dd><code>partitionKeyValues</code> - the values for partition key columns identifying this partition. The values for each
 partition key column can be passed either directly as <code>ByteBuffer</code> or using a "native" value (int for
 Int32Type, string for UTF8Type, ...). It is also allowed to pass a single <code>DecoratedKey</code> value directly.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a newly created builder.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PartitionUpdate.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/cassandra/db/partitions/PartitionStatisticsCollector.html" title="interface in org.apache.cassandra.db.partitions"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/cassandra/db/partitions/PartitionUpdate.CounterMark.html" title="class in org.apache.cassandra.db.partitions"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/cassandra/db/partitions/PartitionUpdate.html" target="_top">Frames</a></li>
<li><a href="PartitionUpdate.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2018 The Apache Software Foundation</small></p>
</body>
</html>
