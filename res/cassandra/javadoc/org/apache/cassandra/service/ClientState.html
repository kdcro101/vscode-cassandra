<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_171) on Tue Jul 24 22:50:52 PDT 2018 -->
<title>ClientState (apache-cassandra API)</title>
<meta name="date" content="2018-07-24">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ClientState (apache-cassandra API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":9,"i5":9,"i6":9,"i7":9,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ClientState.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/cassandra/service/CassandraDaemon.Server.html" title="interface in org.apache.cassandra.service"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/cassandra/service/ClientWarn.html" title="class in org.apache.cassandra.service"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/cassandra/service/ClientState.html" target="_top">Frames</a></li>
<li><a href="ClientState.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.cassandra.service</div>
<h2 title="Class ClientState" class="title">Class ClientState</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.cassandra.service.ClientState</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/apache/cassandra/thrift/ThriftClientState.html" title="class in org.apache.cassandra.thrift">ThriftClientState</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ClientState</span>
extends java.lang.Object</pre>
<div class="block">State related to a client connection.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../org/apache/cassandra/utils/CassandraVersion.html" title="class in org.apache.cassandra.utils">CassandraVersion</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#DEFAULT_CQL_VERSION">DEFAULT_CQL_VERSION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#isInternal">isInternal</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#ClientState-java.net.InetSocketAddress-">ClientState</a></span>(java.net.InetSocketAddress&nbsp;remoteAddress)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#ensureHasPermission-org.apache.cassandra.auth.Permission-org.apache.cassandra.cql3.functions.Function-">ensureHasPermission</a></span>(<a href="../../../../org/apache/cassandra/auth/Permission.html" title="enum in org.apache.cassandra.auth">Permission</a>&nbsp;permission,
                   <a href="../../../../org/apache/cassandra/cql3/functions/Function.html" title="interface in org.apache.cassandra.cql3.functions">Function</a>&nbsp;function)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#ensureHasPermission-org.apache.cassandra.auth.Permission-org.apache.cassandra.auth.IResource-">ensureHasPermission</a></span>(<a href="../../../../org/apache/cassandra/auth/Permission.html" title="enum in org.apache.cassandra.auth">Permission</a>&nbsp;perm,
                   <a href="../../../../org/apache/cassandra/auth/IResource.html" title="interface in org.apache.cassandra.auth">IResource</a>&nbsp;resource)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#ensureIsSuper-java.lang.String-">ensureIsSuper</a></span>(java.lang.String&nbsp;message)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#ensureNotAnonymous--">ensureNotAnonymous</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="../../../../org/apache/cassandra/service/ClientState.html" title="class in org.apache.cassandra.service">ClientState</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#forExternalCalls-java.net.SocketAddress-">forExternalCalls</a></span>(java.net.SocketAddress&nbsp;remoteAddress)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../org/apache/cassandra/service/ClientState.html" title="class in org.apache.cassandra.service">ClientState</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#forInternalCalls--">forInternalCalls</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static <a href="../../../../org/apache/cassandra/cql3/QueryHandler.html" title="interface in org.apache.cassandra.cql3">QueryHandler</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#getCQLQueryHandler--">getCQLQueryHandler</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../org/apache/cassandra/utils/CassandraVersion.html" title="class in org.apache.cassandra.utils">CassandraVersion</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#getCQLSupportedVersion--">getCQLSupportedVersion</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#getKeyspace--">getKeyspace</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#getRawKeyspace--">getRawKeyspace</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.net.InetSocketAddress</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#getRemoteAddress--">getRemoteAddress</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#getTimestamp--">getTimestamp</a></span>()</code>
<div class="block">This clock guarantees that updates for the same ClientState will be ordered
 in the sequence seen, even if multiple updates happen in the same millisecond.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#getTimestampForPaxos-long-">getTimestampForPaxos</a></span>(long&nbsp;minTimestampToUse)</code>
<div class="block">Returns a timestamp suitable for paxos given the timestamp of the last known commit (or in progress update).</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/cassandra/auth/AuthenticatedUser.html" title="class in org.apache.cassandra.auth">AuthenticatedUser</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#getUser--">getUser</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#hasAllKeyspacesAccess-org.apache.cassandra.auth.Permission-">hasAllKeyspacesAccess</a></span>(<a href="../../../../org/apache/cassandra/auth/Permission.html" title="enum in org.apache.cassandra.auth">Permission</a>&nbsp;perm)</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#hasColumnFamilyAccess-org.apache.cassandra.config.CFMetaData-org.apache.cassandra.auth.Permission-">hasColumnFamilyAccess</a></span>(<a href="../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;cfm,
                     <a href="../../../../org/apache/cassandra/auth/Permission.html" title="enum in org.apache.cassandra.auth">Permission</a>&nbsp;perm)</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#hasColumnFamilyAccess-java.lang.String-java.lang.String-org.apache.cassandra.auth.Permission-">hasColumnFamilyAccess</a></span>(java.lang.String&nbsp;keyspace,
                     java.lang.String&nbsp;columnFamily,
                     <a href="../../../../org/apache/cassandra/auth/Permission.html" title="enum in org.apache.cassandra.auth">Permission</a>&nbsp;perm)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#hasKeyspaceAccess-java.lang.String-org.apache.cassandra.auth.Permission-">hasKeyspaceAccess</a></span>(java.lang.String&nbsp;keyspace,
                 <a href="../../../../org/apache/cassandra/auth/Permission.html" title="enum in org.apache.cassandra.auth">Permission</a>&nbsp;perm)</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#isNoCompactMode--">isNoCompactMode</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#login-org.apache.cassandra.auth.AuthenticatedUser-">login</a></span>(<a href="../../../../org/apache/cassandra/auth/AuthenticatedUser.html" title="class in org.apache.cassandra.auth">AuthenticatedUser</a>&nbsp;user)</code>
<div class="block">Attempts to login the given user.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#setKeyspace-java.lang.String-">setKeyspace</a></span>(java.lang.String&nbsp;ks)</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#setNoCompactMode--">setNoCompactMode</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/cassandra/service/ClientState.html#validateLogin--">validateLogin</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_CQL_VERSION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_CQL_VERSION</h4>
<pre>public static final&nbsp;<a href="../../../../org/apache/cassandra/utils/CassandraVersion.html" title="class in org.apache.cassandra.utils">CassandraVersion</a> DEFAULT_CQL_VERSION</pre>
</li>
</ul>
<a name="isInternal">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isInternal</h4>
<pre>public final&nbsp;boolean isInternal</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ClientState-java.net.InetSocketAddress-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ClientState</h4>
<pre>protected&nbsp;ClientState(java.net.InetSocketAddress&nbsp;remoteAddress)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="forInternalCalls--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forInternalCalls</h4>
<pre>public static&nbsp;<a href="../../../../org/apache/cassandra/service/ClientState.html" title="class in org.apache.cassandra.service">ClientState</a>&nbsp;forInternalCalls()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a ClientState object for internal C* calls (not limited by any kind of auth).</dd>
</dl>
</li>
</ul>
<a name="forExternalCalls-java.net.SocketAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forExternalCalls</h4>
<pre>public static&nbsp;<a href="../../../../org/apache/cassandra/service/ClientState.html" title="class in org.apache.cassandra.service">ClientState</a>&nbsp;forExternalCalls(java.net.SocketAddress&nbsp;remoteAddress)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a ClientState object for external clients (thrift/native protocol users).</dd>
</dl>
</li>
</ul>
<a name="getTimestamp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimestamp</h4>
<pre>public&nbsp;long&nbsp;getTimestamp()</pre>
<div class="block">This clock guarantees that updates for the same ClientState will be ordered
 in the sequence seen, even if multiple updates happen in the same millisecond.</div>
</li>
</ul>
<a name="getTimestampForPaxos-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimestampForPaxos</h4>
<pre>public&nbsp;long&nbsp;getTimestampForPaxos(long&nbsp;minTimestampToUse)</pre>
<div class="block">Returns a timestamp suitable for paxos given the timestamp of the last known commit (or in progress update).
 <p>
 Paxos ensures that the timestamp it uses for commits respects the serial order of those commits. It does so
 by having each replica reject any proposal whose timestamp is not strictly greater than the last proposal it
 accepted. So in practice, which timestamp we use for a given proposal doesn't affect correctness but it does
 affect the chance of making progress (if we pick a timestamp lower than what has been proposed before, our
 new proposal will just get rejected).
 <p>
 As during the prepared phase replica send us the last propose they accepted, a first option would be to take
 the maximum of those last accepted proposal timestamp plus 1 (and use a default value, say 0, if it's the
 first known proposal for the partition). This would most work (giving commits the timestamp 0, 1, 2, ...
 in the order they are commited) up to 2 important caveats:
   1) it would give a very poor experience when Paxos and non-Paxos updates are mixed in the same partition,
      since paxos operations wouldn't be using microseconds timestamps. And while you shouldn't theoretically
      mix the 2 kind of operations, this would still be pretty unintuitive. And what if you started writing
      normal updates and realize later you should switch to Paxos to enforce a property you want?
   2) this wouldn't actually be safe due to the expiration set on the Paxos state table.
 <p>
 So instead, we initially chose to use the current time in microseconds as for normal update. Which works in
 general but mean that clock skew creates unavailability periods for Paxos updates (either a node has his clock
 in the past and he may no be able to get commit accepted until its clock catch up, or a node has his clock in
 the future and then once one of its commit his accepted, other nodes ones won't be until they catch up). This
 is ok for small clock skew (few ms) but can be pretty bad for large one.
 <p>
 Hence our current solution: we mix both approaches. That is, we compare the timestamp of the last known
 accepted proposal and the local time. If the local time is greater, we use it, thus keeping paxos timestamps
 locked to the current time in general (making mixing Paxos and non-Paxos more friendly, and behaving correctly
 when the paxos state expire (as long as your maximum clock skew is lower than the Paxos state expiration
 time)). Otherwise (the local time is lower than the last proposal, meaning that this last proposal was done
 with a clock in the future compared to the local one), we use the last proposal timestamp plus 1, ensuring
 progress.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>minTimestampToUse</code> - the max timestamp of the last proposal accepted by replica having responded
 to the prepare phase of the paxos round this is for. In practice, that's the minimum timestamp this method
 may return.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a timestamp suitable for a Paxos proposal (using the reasoning described above). Note that
 contrarily to the <a href="../../../../org/apache/cassandra/service/ClientState.html#getTimestamp--"><code>getTimestamp()</code></a> method, the return value is not guaranteed to be unique (nor
 monotonic) across calls since it can return it's argument (so if the same argument is passed multiple times,
 it may be returned multiple times). Note that we still ensure Paxos "ballot" are unique (for different
 proposal) by (securely) randomizing the non-timestamp part of the UUID.</dd>
</dl>
</li>
</ul>
<a name="getCQLQueryHandler--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCQLQueryHandler</h4>
<pre>public static&nbsp;<a href="../../../../org/apache/cassandra/cql3/QueryHandler.html" title="interface in org.apache.cassandra.cql3">QueryHandler</a>&nbsp;getCQLQueryHandler()</pre>
</li>
</ul>
<a name="getRemoteAddress--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRemoteAddress</h4>
<pre>public&nbsp;java.net.InetSocketAddress&nbsp;getRemoteAddress()</pre>
</li>
</ul>
<a name="getRawKeyspace--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRawKeyspace</h4>
<pre>public&nbsp;java.lang.String&nbsp;getRawKeyspace()</pre>
</li>
</ul>
<a name="getKeyspace--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyspace</h4>
<pre>public&nbsp;java.lang.String&nbsp;getKeyspace()
                             throws <a href="../../../../org/apache/cassandra/exceptions/InvalidRequestException.html" title="class in org.apache.cassandra.exceptions">InvalidRequestException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/cassandra/exceptions/InvalidRequestException.html" title="class in org.apache.cassandra.exceptions">InvalidRequestException</a></code></dd>
</dl>
</li>
</ul>
<a name="setKeyspace-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeyspace</h4>
<pre>public&nbsp;void&nbsp;setKeyspace(java.lang.String&nbsp;ks)
                 throws <a href="../../../../org/apache/cassandra/exceptions/InvalidRequestException.html" title="class in org.apache.cassandra.exceptions">InvalidRequestException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/cassandra/exceptions/InvalidRequestException.html" title="class in org.apache.cassandra.exceptions">InvalidRequestException</a></code></dd>
</dl>
</li>
</ul>
<a name="setNoCompactMode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNoCompactMode</h4>
<pre>public&nbsp;void&nbsp;setNoCompactMode()</pre>
</li>
</ul>
<a name="isNoCompactMode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isNoCompactMode</h4>
<pre>public&nbsp;boolean&nbsp;isNoCompactMode()</pre>
</li>
</ul>
<a name="login-org.apache.cassandra.auth.AuthenticatedUser-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>login</h4>
<pre>public&nbsp;void&nbsp;login(<a href="../../../../org/apache/cassandra/auth/AuthenticatedUser.html" title="class in org.apache.cassandra.auth">AuthenticatedUser</a>&nbsp;user)
           throws <a href="../../../../org/apache/cassandra/exceptions/AuthenticationException.html" title="class in org.apache.cassandra.exceptions">AuthenticationException</a></pre>
<div class="block">Attempts to login the given user.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/cassandra/exceptions/AuthenticationException.html" title="class in org.apache.cassandra.exceptions">AuthenticationException</a></code></dd>
</dl>
</li>
</ul>
<a name="hasAllKeyspacesAccess-org.apache.cassandra.auth.Permission-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasAllKeyspacesAccess</h4>
<pre>public&nbsp;void&nbsp;hasAllKeyspacesAccess(<a href="../../../../org/apache/cassandra/auth/Permission.html" title="enum in org.apache.cassandra.auth">Permission</a>&nbsp;perm)
                           throws <a href="../../../../org/apache/cassandra/exceptions/UnauthorizedException.html" title="class in org.apache.cassandra.exceptions">UnauthorizedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/cassandra/exceptions/UnauthorizedException.html" title="class in org.apache.cassandra.exceptions">UnauthorizedException</a></code></dd>
</dl>
</li>
</ul>
<a name="hasKeyspaceAccess-java.lang.String-org.apache.cassandra.auth.Permission-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasKeyspaceAccess</h4>
<pre>public&nbsp;void&nbsp;hasKeyspaceAccess(java.lang.String&nbsp;keyspace,
                              <a href="../../../../org/apache/cassandra/auth/Permission.html" title="enum in org.apache.cassandra.auth">Permission</a>&nbsp;perm)
                       throws <a href="../../../../org/apache/cassandra/exceptions/UnauthorizedException.html" title="class in org.apache.cassandra.exceptions">UnauthorizedException</a>,
                              <a href="../../../../org/apache/cassandra/exceptions/InvalidRequestException.html" title="class in org.apache.cassandra.exceptions">InvalidRequestException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/cassandra/exceptions/UnauthorizedException.html" title="class in org.apache.cassandra.exceptions">UnauthorizedException</a></code></dd>
<dd><code><a href="../../../../org/apache/cassandra/exceptions/InvalidRequestException.html" title="class in org.apache.cassandra.exceptions">InvalidRequestException</a></code></dd>
</dl>
</li>
</ul>
<a name="hasColumnFamilyAccess-java.lang.String-java.lang.String-org.apache.cassandra.auth.Permission-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasColumnFamilyAccess</h4>
<pre>public&nbsp;void&nbsp;hasColumnFamilyAccess(java.lang.String&nbsp;keyspace,
                                  java.lang.String&nbsp;columnFamily,
                                  <a href="../../../../org/apache/cassandra/auth/Permission.html" title="enum in org.apache.cassandra.auth">Permission</a>&nbsp;perm)
                           throws <a href="../../../../org/apache/cassandra/exceptions/UnauthorizedException.html" title="class in org.apache.cassandra.exceptions">UnauthorizedException</a>,
                                  <a href="../../../../org/apache/cassandra/exceptions/InvalidRequestException.html" title="class in org.apache.cassandra.exceptions">InvalidRequestException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/cassandra/exceptions/UnauthorizedException.html" title="class in org.apache.cassandra.exceptions">UnauthorizedException</a></code></dd>
<dd><code><a href="../../../../org/apache/cassandra/exceptions/InvalidRequestException.html" title="class in org.apache.cassandra.exceptions">InvalidRequestException</a></code></dd>
</dl>
</li>
</ul>
<a name="hasColumnFamilyAccess-org.apache.cassandra.config.CFMetaData-org.apache.cassandra.auth.Permission-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasColumnFamilyAccess</h4>
<pre>public&nbsp;void&nbsp;hasColumnFamilyAccess(<a href="../../../../org/apache/cassandra/config/CFMetaData.html" title="class in org.apache.cassandra.config">CFMetaData</a>&nbsp;cfm,
                                  <a href="../../../../org/apache/cassandra/auth/Permission.html" title="enum in org.apache.cassandra.auth">Permission</a>&nbsp;perm)
                           throws <a href="../../../../org/apache/cassandra/exceptions/UnauthorizedException.html" title="class in org.apache.cassandra.exceptions">UnauthorizedException</a>,
                                  <a href="../../../../org/apache/cassandra/exceptions/InvalidRequestException.html" title="class in org.apache.cassandra.exceptions">InvalidRequestException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/cassandra/exceptions/UnauthorizedException.html" title="class in org.apache.cassandra.exceptions">UnauthorizedException</a></code></dd>
<dd><code><a href="../../../../org/apache/cassandra/exceptions/InvalidRequestException.html" title="class in org.apache.cassandra.exceptions">InvalidRequestException</a></code></dd>
</dl>
</li>
</ul>
<a name="ensureHasPermission-org.apache.cassandra.auth.Permission-org.apache.cassandra.auth.IResource-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureHasPermission</h4>
<pre>public&nbsp;void&nbsp;ensureHasPermission(<a href="../../../../org/apache/cassandra/auth/Permission.html" title="enum in org.apache.cassandra.auth">Permission</a>&nbsp;perm,
                                <a href="../../../../org/apache/cassandra/auth/IResource.html" title="interface in org.apache.cassandra.auth">IResource</a>&nbsp;resource)
                         throws <a href="../../../../org/apache/cassandra/exceptions/UnauthorizedException.html" title="class in org.apache.cassandra.exceptions">UnauthorizedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/cassandra/exceptions/UnauthorizedException.html" title="class in org.apache.cassandra.exceptions">UnauthorizedException</a></code></dd>
</dl>
</li>
</ul>
<a name="ensureHasPermission-org.apache.cassandra.auth.Permission-org.apache.cassandra.cql3.functions.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureHasPermission</h4>
<pre>public&nbsp;void&nbsp;ensureHasPermission(<a href="../../../../org/apache/cassandra/auth/Permission.html" title="enum in org.apache.cassandra.auth">Permission</a>&nbsp;permission,
                                <a href="../../../../org/apache/cassandra/cql3/functions/Function.html" title="interface in org.apache.cassandra.cql3.functions">Function</a>&nbsp;function)</pre>
</li>
</ul>
<a name="validateLogin--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateLogin</h4>
<pre>public&nbsp;void&nbsp;validateLogin()
                   throws <a href="../../../../org/apache/cassandra/exceptions/UnauthorizedException.html" title="class in org.apache.cassandra.exceptions">UnauthorizedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/cassandra/exceptions/UnauthorizedException.html" title="class in org.apache.cassandra.exceptions">UnauthorizedException</a></code></dd>
</dl>
</li>
</ul>
<a name="ensureNotAnonymous--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureNotAnonymous</h4>
<pre>public&nbsp;void&nbsp;ensureNotAnonymous()
                        throws <a href="../../../../org/apache/cassandra/exceptions/UnauthorizedException.html" title="class in org.apache.cassandra.exceptions">UnauthorizedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/cassandra/exceptions/UnauthorizedException.html" title="class in org.apache.cassandra.exceptions">UnauthorizedException</a></code></dd>
</dl>
</li>
</ul>
<a name="ensureIsSuper-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureIsSuper</h4>
<pre>public&nbsp;void&nbsp;ensureIsSuper(java.lang.String&nbsp;message)
                   throws <a href="../../../../org/apache/cassandra/exceptions/UnauthorizedException.html" title="class in org.apache.cassandra.exceptions">UnauthorizedException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/cassandra/exceptions/UnauthorizedException.html" title="class in org.apache.cassandra.exceptions">UnauthorizedException</a></code></dd>
</dl>
</li>
</ul>
<a name="getUser--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUser</h4>
<pre>public&nbsp;<a href="../../../../org/apache/cassandra/auth/AuthenticatedUser.html" title="class in org.apache.cassandra.auth">AuthenticatedUser</a>&nbsp;getUser()</pre>
</li>
</ul>
<a name="getCQLSupportedVersion--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getCQLSupportedVersion</h4>
<pre>public static&nbsp;<a href="../../../../org/apache/cassandra/utils/CassandraVersion.html" title="class in org.apache.cassandra.utils">CassandraVersion</a>[]&nbsp;getCQLSupportedVersion()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ClientState.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/cassandra/service/CassandraDaemon.Server.html" title="interface in org.apache.cassandra.service"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/cassandra/service/ClientWarn.html" title="class in org.apache.cassandra.service"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/cassandra/service/ClientState.html" target="_top">Frames</a></li>
<li><a href="ClientState.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2018 The Apache Software Foundation</small></p>
</body>
</html>
